Version 4
SHEET 1 3928 1092
WIRE 2816 -96 1568 -96
WIRE -208 -32 -352 -32
WIRE 368 -32 -128 -32
WIRE 448 -32 368 -32
WIRE 608 -32 448 -32
WIRE 2304 -16 1680 -16
WIRE 2816 0 2816 -96
WIRE 368 16 368 -32
WIRE 448 16 448 -32
WIRE 608 64 608 -32
WIRE -64 80 -224 80
WIRE 160 80 16 80
WIRE 272 80 160 80
WIRE 1136 80 784 80
WIRE 2752 80 1808 80
WIRE -352 112 -352 -32
WIRE -224 112 -224 80
WIRE 272 112 272 80
WIRE 784 112 784 80
WIRE 1136 112 1136 80
WIRE 1568 112 1568 -96
WIRE 1680 112 1680 -16
WIRE 1808 112 1808 80
WIRE 2752 112 2752 80
WIRE -640 144 -656 144
WIRE -512 144 -560 144
WIRE -48 160 -64 160
WIRE 80 160 32 160
WIRE 192 160 80 160
WIRE 608 160 608 128
WIRE 608 160 288 160
WIRE 624 160 608 160
WIRE 944 160 880 160
WIRE 1056 160 944 160
WIRE 1248 160 1152 160
WIRE 1408 160 1328 160
WIRE 1968 160 1904 160
WIRE 2016 160 1968 160
WIRE 2304 160 2304 48
WIRE 2304 160 2016 160
WIRE 2352 160 2304 160
WIRE 2672 160 2352 160
WIRE 2816 160 2816 64
WIRE 2816 160 2768 160
WIRE 2864 160 2816 160
WIRE 3024 160 2944 160
WIRE -656 176 -656 144
WIRE -512 192 -512 144
WIRE -64 192 -64 160
WIRE 160 192 160 80
WIRE 944 192 944 160
WIRE 1968 192 1968 160
WIRE 80 208 80 160
WIRE 624 208 624 160
WIRE 880 208 880 160
WIRE 1408 208 1408 160
WIRE 1904 208 1904 160
WIRE 2352 208 2352 160
WIRE 3024 208 3024 160
WIRE -656 288 -656 256
WIRE -576 288 -656 288
WIRE -512 288 -512 256
WIRE -512 288 -576 288
WIRE -352 304 -352 192
WIRE -224 304 -224 192
WIRE -224 304 -352 304
WIRE -128 304 -224 304
WIRE -64 304 -64 272
WIRE -64 304 -128 304
WIRE 80 304 80 272
WIRE 80 304 -64 304
WIRE 160 304 160 256
WIRE 160 304 80 304
WIRE 368 304 368 80
WIRE 368 304 160 304
WIRE 448 304 448 96
WIRE 448 304 368 304
WIRE 624 304 624 288
WIRE 624 304 448 304
WIRE 784 304 784 192
WIRE 880 304 880 272
WIRE 880 304 784 304
WIRE 944 304 944 272
WIRE 944 304 880 304
WIRE 1408 304 1408 288
WIRE 1408 304 944 304
WIRE 1568 304 1568 192
WIRE 1680 304 1680 192
WIRE 1680 304 1568 304
WIRE 1808 304 1808 192
WIRE 1808 304 1680 304
WIRE 1904 304 1904 272
WIRE 1904 304 1808 304
WIRE 1968 304 1968 272
WIRE 1968 304 1904 304
WIRE 2352 304 2352 272
WIRE 2352 304 1968 304
WIRE 3024 304 3024 288
WIRE 3024 304 2352 304
WIRE -576 320 -576 288
WIRE -128 336 -128 304
WIRE 880 336 880 304
WIRE 1904 336 1904 304
WIRE 2144 448 2080 448
WIRE 2192 448 2144 448
WIRE 2448 448 2192 448
WIRE 2608 448 2528 448
WIRE 272 480 -80 480
WIRE 848 480 496 480
WIRE 2144 480 2144 448
WIRE 2080 496 2080 448
WIRE 2608 496 2608 448
WIRE -80 512 -80 480
WIRE 272 512 272 480
WIRE 496 512 496 480
WIRE 848 512 848 480
WIRE 96 560 80 560
WIRE 192 560 176 560
WIRE 368 560 288 560
WIRE 768 560 656 560
WIRE 928 560 864 560
WIRE 1104 560 1008 560
WIRE 80 592 80 560
WIRE 656 592 656 560
WIRE 2080 592 2080 560
WIRE 2080 592 1984 592
WIRE 2144 592 2144 560
WIRE 2144 592 2080 592
WIRE 2608 592 2608 576
WIRE 2608 592 2144 592
WIRE 368 608 368 560
WIRE 1104 608 1104 560
WIRE 2080 624 2080 592
WIRE -80 704 -80 592
WIRE 16 704 -80 704
WIRE 80 704 80 672
WIRE 80 704 16 704
WIRE 368 704 368 688
WIRE 368 704 80 704
WIRE 496 704 496 592
WIRE 592 704 496 704
WIRE 656 704 656 672
WIRE 656 704 592 704
WIRE 1104 704 1104 688
WIRE 1104 704 656 704
WIRE 16 736 16 704
WIRE 592 736 592 704
WIRE 272 816 -80 816
WIRE 848 816 496 816
WIRE -80 848 -80 816
WIRE 272 848 272 816
WIRE 496 848 496 816
WIRE 848 848 848 816
WIRE 96 896 80 896
WIRE 192 896 176 896
WIRE 368 896 288 896
WIRE 768 896 656 896
WIRE 928 896 864 896
WIRE 1104 896 1008 896
WIRE 80 928 80 896
WIRE 656 928 656 896
WIRE 368 944 368 896
WIRE 1104 944 1104 896
WIRE -80 1040 -80 928
WIRE 16 1040 -80 1040
WIRE 80 1040 80 1008
WIRE 80 1040 16 1040
WIRE 368 1040 368 1024
WIRE 368 1040 80 1040
WIRE 496 1040 496 928
WIRE 592 1040 496 1040
WIRE 656 1040 656 1008
WIRE 656 1040 592 1040
WIRE 1104 1040 1104 1024
WIRE 1104 1040 656 1040
WIRE 16 1072 16 1040
WIRE 592 1072 592 1040
FLAG -128 336 0
FLAG 880 336 0
FLAG 16 736 0
FLAG 592 736 0
FLAG 16 1072 0
FLAG 592 1072 0
FLAG -576 320 0
FLAG 1904 336 0
FLAG 2016 160 LVDS_OUT
FLAG 2080 624 0
FLAG 2192 448 LVDS_OUT_REF
SYMBOL voltage -64 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 38 57 Left 2
WINDOW 3 -20 148 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 5 0 1n 1n 100n 200n 2000)
SYMBOL voltage -224 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 4.5
SYMBOL res 608 192 R0
SYMATTR InstName R1
SYMATTR Value 1Mega
SYMBOL res 48 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 0.01
SYMBOL nmos 192 112 M90
SYMATTR InstName M1
SYMATTR Value RK7002BM
SYMBOL voltage 1408 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 3.3 0 1n 1n 100n 200n 20)
SYMBOL voltage 784 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 4.5
SYMBOL res 928 176 R0
SYMATTR InstName R3
SYMATTR Value 1Mega
SYMBOL res 1344 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL voltage 80 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 42 58 Left 2
WINDOW 3 8 151 Left 2
SYMATTR InstName V5
SYMATTR Value PULSE(0 5 1n 1n 1n 1000 1000 1000)
SYMBOL voltage -80 496 R0
SYMATTR InstName V6
SYMATTR Value 5
SYMBOL res 352 592 R0
SYMATTR InstName R5
SYMATTR Value 1Mega
SYMBOL res 192 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL voltage 496 496 R0
SYMATTR InstName V8
SYMATTR Value 5
SYMBOL res 640 576 R0
SYMATTR InstName R7
SYMATTR Value 1Mega
SYMBOL res 1024 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL voltage 1104 592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value PULSE(0 3.3 1n 1n 1n 1000 1000 1000)
SYMBOL voltage 80 912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 37 60 Left 2
WINDOW 3 11 156 Left 2
SYMATTR InstName V9
SYMATTR Value PULSE(5 0 1n 1n 1n 1000 1000 1000)
SYMBOL voltage -80 832 R0
SYMATTR InstName V10
SYMATTR Value 5
SYMBOL res 352 928 R0
SYMATTR InstName R10
SYMATTR Value 1Mega
SYMBOL res 192 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL voltage 496 832 R0
SYMATTR InstName V11
SYMATTR Value 5
SYMBOL res 640 912 R0
SYMATTR InstName R12
SYMATTR Value 1Mega
SYMBOL res 1024 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 100k
SYMBOL voltage 1104 928 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V12
SYMATTR Value PULSE(3.3 0 1n 1n 1n 1000 1000 1000)
SYMBOL cap 864 208 R0
SYMATTR InstName C1
SYMATTR Value 15p
SYMBOL cap 64 208 R0
SYMATTR InstName C2
SYMATTR Value 20p
SYMBOL res 32 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL cap 144 192 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL nmos 1056 112 M90
SYMATTR InstName M2
SYMATTR Value RK7002BM
SYMBOL nmos 768 512 M90
SYMATTR InstName M3
SYMATTR Value RK7002BM
SYMBOL nmos 192 512 M90
SYMATTR InstName M4
SYMATTR Value RK7002BM
SYMBOL nmos 192 848 M90
SYMATTR InstName M5
SYMATTR Value RK7002BM
SYMBOL nmos 768 848 M90
SYMATTR InstName M6
SYMATTR Value RK7002BM
SYMBOL voltage -656 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 38 57 Left 2
WINDOW 3 -20 148 Left 2
SYMATTR InstName V13
SYMATTR Value PULSE(0 5 0 1n 1n 100n 200n 20)
SYMBOL res -544 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100
SYMBOL cap -528 192 R0
SYMATTR InstName C4
SYMATTR Value 50p
SYMBOL schottky 624 128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage -352 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V14
SYMATTR Value 3.3
SYMBOL res -112 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10
SYMBOL cap 352 16 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res 432 0 R0
SYMATTR InstName R16
SYMATTR Value 3.3k
SYMBOL voltage 3024 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V15
SYMATTR Value PULSE(1.025 1.375 0 100p 100p 4n 8n 200)
SYMBOL voltage 1808 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V16
SYMATTR Value 4.5
SYMBOL res 1952 176 R0
SYMATTR InstName R17
SYMATTR Value 1Mega
SYMBOL res 2960 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 50
SYMBOL cap 1888 208 R0
SYMATTR InstName C6
SYMATTR Value 2p
SYMBOL nmos 2672 112 M90
SYMATTR InstName M7
SYMATTR Value RK7002BM
SYMBOL voltage 2608 480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V17
SYMATTR Value PULSE(1.025 1.375 0 100p 100p 1n 2n 200)
SYMBOL res 2128 464 R0
SYMATTR InstName R19
SYMATTR Value 1Mega
SYMBOL res 2544 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 50
SYMBOL cap 2064 496 R0
SYMATTR InstName C7
SYMATTR Value 2p
SYMBOL schottky 2368 272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 2320 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 1680 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V18
SYMATTR Value 5
SYMBOL voltage 1568 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V19
SYMATTR Value 3.3
SYMBOL schottky 2832 64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BAT54
SYMATTR Description Diode
SYMATTR Type diode
TEXT -256 360 Left 2 !.tran 400n
TEXT -88 416 Left 2 ;Lots of good data of logic signals: https://www.ti.com/lit/an/sdya009c/sdya009c.pdf?ts=1687728163429
TEXT -792 472 Left 2 ;The problem seems to be that the MOSFET presents \na really high input capacitance\nthus, slowing the signal down quite a bit.\n \nIf this ciruit was inserted into a large fan-out\nnet, things would get ugly pretty quickly.\n \nAs it stands now, we add abour 5ns of\nrise/fall to a 50pF reference load. That is\nhigh, but probably acceptable.
TEXT -640 360 Left 2 ;11ns rise/fall
TEXT -224 0 Left 2 ;20pF external load gets us to 11ns rise/fall\nThis means ~30pF load from the circuit.
TEXT 784 0 Left 2 ;15pF external load gets us to ~11ns rise/fall\nThis means ~35pF load from the circuit.
TEXT -752 40 Left 2 !;.step temp 0 85 85
TEXT 2000 -128 Left 2 ;This is a simulation for an LVDS output from GoWin
TEXT 2768 -144 Left 2 ;This is a simulation for an LVDS output from GoWin without the limiter circuit
